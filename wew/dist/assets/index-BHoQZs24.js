(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const z={},Lt=[],qe=()=>{},Ka=()=>!1,tr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bn=t=>t.startsWith("onUpdate:"),fe=Object.assign,kn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Wa=Object.prototype.hasOwnProperty,V=(t,e)=>Wa.call(t,e),j=Array.isArray,Dt=t=>sr(t)==="[object Map]",eo=t=>sr(t)==="[object Set]",L=t=>typeof t=="function",te=t=>typeof t=="string",ut=t=>typeof t=="symbol",ee=t=>t!==null&&typeof t=="object",to=t=>(ee(t)||L(t))&&L(t.then)&&L(t.catch),so=Object.prototype.toString,sr=t=>so.call(t),Ja=t=>sr(t).slice(8,-1),ro=t=>sr(t)==="[object Object]",xn=t=>te(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,is=wn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},za=/-(\w)/g,Oe=rr(t=>t.replace(za,(e,s)=>s?s.toUpperCase():"")),Ga=/\B([A-Z])/g,Tt=rr(t=>t.replace(Ga,"-$1").toLowerCase()),nr=rr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sr=rr(t=>t?`on${nr(t)}`:""),lt=(t,e)=>!Object.is(t,e),Ns=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},no=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Wr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Zn;const ir=()=>Zn||(Zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Sn(t){if(j(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=te(r)?Za(r):Sn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(te(t)||ee(t))return t}const Ya=/;(?![^(]*\))/g,Qa=/:([^]+)/,Xa=/\/\*[^]*?\*\//g;function Za(t){const e={};return t.replace(Xa,"").split(Ya).forEach(s=>{if(s){const r=s.split(Qa);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ft(t){let e="";if(te(t))e=t;else if(j(t))for(let s=0;s<t.length;s++){const r=Ft(t[s]);r&&(e+=r+" ")}else if(ee(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const el="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tl=wn(el);function io(t){return!!t||t===""}const oo=t=>!!(t&&t.__v_isRef===!0),Qe=t=>te(t)?t:t==null?"":j(t)||ee(t)&&(t.toString===so||!L(t.toString))?oo(t)?Qe(t.value):JSON.stringify(t,ao,2):String(t),ao=(t,e)=>oo(e)?ao(t,e.value):Dt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Er(r,i)+" =>"]=n,s),{})}:eo(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Er(s))}:ut(e)?Er(e):ee(e)&&!j(e)&&!ro(e)?String(e):e,Er=(t,e="")=>{var s;return ut(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let be;class sl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=be,!e&&be&&(this.index=(be.scopes||(be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=be;try{return be=this,e()}finally{be=s}}}on(){be=this}off(){be=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function rl(){return be}let X;const Tr=new WeakSet;class lo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,be&&be.active&&be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tr.has(this)&&(Tr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ei(this),ho(this);const e=X,s=$e;X=this,$e=!0;try{return this.fn()}finally{fo(this),X=e,$e=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)On(e);this.deps=this.depsTail=void 0,ei(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jr(this)&&this.run()}get dirty(){return Jr(this)}}let co=0,os,as;function uo(t,e=!1){if(t.flags|=8,e){t.next=as,as=t;return}t.next=os,os=t}function En(){co++}function Tn(){if(--co>0)return;if(as){let e=as;for(as=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;os;){let e=os;for(os=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function ho(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function fo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),On(r),nl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Jr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(po(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function po(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ps))return;t.globalVersion=ps;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Jr(t)){t.flags&=-3;return}const s=X,r=$e;X=t,$e=!0;try{ho(t);const n=t.fn(t._value);(e.version===0||lt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{X=s,$e=r,fo(t),t.flags&=-3}}function On(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)On(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function nl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let $e=!0;const go=[];function ht(){go.push($e),$e=!1}function ft(){const t=go.pop();$e=t===void 0?!0:t}function ei(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=X;X=void 0;try{e()}finally{X=s}}}let ps=0;class il{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class An{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!X||!$e||X===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==X)s=this.activeLink=new il(X,this),X.deps?(s.prevDep=X.depsTail,X.depsTail.nextDep=s,X.depsTail=s):X.deps=X.depsTail=s,_o(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=X.depsTail,s.nextDep=void 0,X.depsTail.nextDep=s,X.depsTail=s,X.deps===s&&(X.deps=r)}return s}trigger(e){this.version++,ps++,this.notify(e)}notify(e){En();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Tn()}}}function _o(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)_o(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const zr=new WeakMap,xt=Symbol(""),Gr=Symbol(""),gs=Symbol("");function ie(t,e,s){if($e&&X){let r=zr.get(t);r||zr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new An),n.map=r,n.key=s),n.track()}}function Ge(t,e,s,r,n,i){const o=zr.get(t);if(!o){ps++;return}const a=l=>{l&&l.trigger()};if(En(),e==="clear")o.forEach(a);else{const l=j(t),u=l&&xn(s);if(l&&s==="length"){const c=Number(r);o.forEach((f,p)=>{(p==="length"||p===gs||!ut(p)&&p>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(gs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(xt)),Dt(t)&&a(o.get(Gr)));break;case"delete":l||(a(o.get(xt)),Dt(t)&&a(o.get(Gr)));break;case"set":Dt(t)&&a(o.get(xt));break}}Tn()}function At(t){const e=H(t);return e===t?e:(ie(e,"iterate",gs),Te(t)?e:e.map(oe))}function or(t){return ie(t=H(t),"iterate",gs),t}const ol={__proto__:null,[Symbol.iterator](){return Or(this,Symbol.iterator,oe)},concat(...t){return At(this).concat(...t.map(e=>j(e)?At(e):e))},entries(){return Or(this,"entries",t=>(t[1]=oe(t[1]),t))},every(t,e){return We(this,"every",t,e,void 0,arguments)},filter(t,e){return We(this,"filter",t,e,s=>s.map(oe),arguments)},find(t,e){return We(this,"find",t,e,oe,arguments)},findIndex(t,e){return We(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return We(this,"findLast",t,e,oe,arguments)},findLastIndex(t,e){return We(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return We(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ar(this,"includes",t)},indexOf(...t){return Ar(this,"indexOf",t)},join(t){return At(this).join(t)},lastIndexOf(...t){return Ar(this,"lastIndexOf",t)},map(t,e){return We(this,"map",t,e,void 0,arguments)},pop(){return Xt(this,"pop")},push(...t){return Xt(this,"push",t)},reduce(t,...e){return ti(this,"reduce",t,e)},reduceRight(t,...e){return ti(this,"reduceRight",t,e)},shift(){return Xt(this,"shift")},some(t,e){return We(this,"some",t,e,void 0,arguments)},splice(...t){return Xt(this,"splice",t)},toReversed(){return At(this).toReversed()},toSorted(t){return At(this).toSorted(t)},toSpliced(...t){return At(this).toSpliced(...t)},unshift(...t){return Xt(this,"unshift",t)},values(){return Or(this,"values",oe)}};function Or(t,e,s){const r=or(t),n=r[e]();return r!==t&&!Te(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const al=Array.prototype;function We(t,e,s,r,n,i){const o=or(t),a=o!==t&&!Te(t),l=o[e];if(l!==al[e]){const f=l.apply(t,i);return a?oe(f):f}let u=s;o!==t&&(a?u=function(f,p){return s.call(this,oe(f),p,t)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function ti(t,e,s,r){const n=or(t);let i=s;return n!==t&&(Te(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,oe(a),l,t)}),n[e](i,...r)}function Ar(t,e,s){const r=H(t);ie(r,"iterate",gs);const n=r[e](...s);return(n===-1||n===!1)&&$n(s[0])?(s[0]=H(s[0]),r[e](...s)):n}function Xt(t,e,s=[]){ht(),En();const r=H(t)[e].apply(t,s);return Tn(),ft(),r}const ll=wn("__proto__,__v_isRef,__isVue"),mo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ut));function cl(t){ut(t)||(t=String(t));const e=H(this);return ie(e,"has",t),e.hasOwnProperty(t)}class yo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?vl:ko:i?bo:wo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=j(e);if(!n){let l;if(o&&(l=ol[s]))return l;if(s==="hasOwnProperty")return cl}const a=Reflect.get(e,s,le(e)?e:r);return(ut(s)?mo.has(s):ll(s))||(n||ie(e,"get",s),i)?a:le(a)?o&&xn(s)?a:a.value:ee(a)?n?xo(a):Rn(a):a}}class vo extends yo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=St(i);if(!Te(r)&&!St(r)&&(i=H(i),r=H(r)),!j(e)&&le(i)&&!le(r))return l?!1:(i.value=r,!0)}const o=j(e)&&xn(s)?Number(s)<e.length:V(e,s),a=Reflect.set(e,s,r,le(e)?e:n);return e===H(n)&&(o?lt(r,i)&&Ge(e,"set",s,r):Ge(e,"add",s,r)),a}deleteProperty(e,s){const r=V(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Ge(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ut(s)||!mo.has(s))&&ie(e,"has",s),r}ownKeys(e){return ie(e,"iterate",j(e)?"length":xt),Reflect.ownKeys(e)}}class ul extends yo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const hl=new vo,fl=new ul,dl=new vo(!0);const Yr=t=>t,Rs=t=>Reflect.getPrototypeOf(t);function pl(t,e,s){return function(...r){const n=this.__v_raw,i=H(n),o=Dt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Yr:e?Qr:oe;return!e&&ie(i,"iterate",l?Gr:xt),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function Ps(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function gl(t,e){const s={get(n){const i=this.__v_raw,o=H(i),a=H(n);t||(lt(n,a)&&ie(o,"get",n),ie(o,"get",a));const{has:l}=Rs(o),u=e?Yr:t?Qr:oe;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ie(H(n),"iterate",xt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=H(i),a=H(n);return t||(lt(n,a)&&ie(o,"has",n),ie(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=H(a),u=e?Yr:t?Qr:oe;return!t&&ie(l,"iterate",xt),a.forEach((c,f)=>n.call(i,u(c),u(f),o))}};return fe(s,t?{add:Ps("add"),set:Ps("set"),delete:Ps("delete"),clear:Ps("clear")}:{add(n){!e&&!Te(n)&&!St(n)&&(n=H(n));const i=H(this);return Rs(i).has.call(i,n)||(i.add(n),Ge(i,"add",n,n)),this},set(n,i){!e&&!Te(i)&&!St(i)&&(i=H(i));const o=H(this),{has:a,get:l}=Rs(o);let u=a.call(o,n);u||(n=H(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?lt(i,c)&&Ge(o,"set",n,i):Ge(o,"add",n,i),this},delete(n){const i=H(this),{has:o,get:a}=Rs(i);let l=o.call(i,n);l||(n=H(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Ge(i,"delete",n,void 0),u},clear(){const n=H(this),i=n.size!==0,o=n.clear();return i&&Ge(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=pl(n,t,e)}),s}function Cn(t,e){const s=gl(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(V(s,n)&&n in r?s:r,n,i)}const _l={get:Cn(!1,!1)},ml={get:Cn(!1,!0)},yl={get:Cn(!0,!1)};const wo=new WeakMap,bo=new WeakMap,ko=new WeakMap,vl=new WeakMap;function wl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bl(t){return t.__v_skip||!Object.isExtensible(t)?0:wl(Ja(t))}function Rn(t){return St(t)?t:Pn(t,!1,hl,_l,wo)}function kl(t){return Pn(t,!1,dl,ml,bo)}function xo(t){return Pn(t,!0,fl,yl,ko)}function Pn(t,e,s,r,n){if(!ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=bl(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function Ut(t){return St(t)?Ut(t.__v_raw):!!(t&&t.__v_isReactive)}function St(t){return!!(t&&t.__v_isReadonly)}function Te(t){return!!(t&&t.__v_isShallow)}function $n(t){return t?!!t.__v_raw:!1}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function xl(t){return!V(t,"__v_skip")&&Object.isExtensible(t)&&no(t,"__v_skip",!0),t}const oe=t=>ee(t)?Rn(t):t,Qr=t=>ee(t)?xo(t):t;function le(t){return t?t.__v_isRef===!0:!1}function Pe(t){return Sl(t,!1)}function Sl(t,e){return le(t)?t:new El(t,e)}class El{constructor(e,s){this.dep=new An,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:H(e),this._value=s?e:oe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Te(e)||St(e);e=r?e:H(e),lt(e,s)&&(this._rawValue=e,this._value=r?e:oe(e),this.dep.trigger())}}function ot(t){return le(t)?t.value:t}const Tl={get:(t,e,s)=>e==="__v_raw"?t:ot(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return le(n)&&!le(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function So(t){return Ut(t)?t:new Proxy(t,Tl)}class Ol{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new An(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&X!==this)return uo(this,!0),!0}get value(){const e=this.dep.track();return po(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Al(t,e,s=!1){let r,n;return L(t)?r=t:(r=t.get,n=t.set),new Ol(r,n,s)}const $s={},Js=new WeakMap;let wt;function Cl(t,e=!1,s=wt){if(s){let r=Js.get(s);r||Js.set(s,r=[]),r.push(t)}}function Rl(t,e,s=z){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=A=>n?A:Te(A)||n===!1||n===0?Ye(A,1):Ye(A);let c,f,p,_,S=!1,O=!1;if(le(t)?(f=()=>t.value,S=Te(t)):Ut(t)?(f=()=>u(t),S=!0):j(t)?(O=!0,S=t.some(A=>Ut(A)||Te(A)),f=()=>t.map(A=>{if(le(A))return A.value;if(Ut(A))return u(A);if(L(A))return l?l(A,2):A()})):L(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){ht();try{p()}finally{ft()}}const A=wt;wt=c;try{return l?l(t,3,[_]):t(_)}finally{wt=A}}:f=qe,e&&n){const A=f,q=n===!0?1/0:n;f=()=>Ye(A(),q)}const P=rl(),I=()=>{c.stop(),P&&P.active&&kn(P.effects,c)};if(i&&e){const A=e;e=(...q)=>{A(...q),I()}}let F=O?new Array(t.length).fill($s):$s;const M=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const q=c.run();if(n||S||(O?q.some((Ze,je)=>lt(Ze,F[je])):lt(q,F))){p&&p();const Ze=wt;wt=c;try{const je=[q,F===$s?void 0:O&&F[0]===$s?[]:F,_];l?l(e,3,je):e(...je),F=q}finally{wt=Ze}}}else c.run()};return a&&a(M),c=new lo(f),c.scheduler=o?()=>o(M,!1):M,_=A=>Cl(A,!1,c),p=c.onStop=()=>{const A=Js.get(c);if(A){if(l)l(A,4);else for(const q of A)q();Js.delete(c)}},e?r?M(!0):F=c.run():o?o(M.bind(null,!0),!0):c.run(),I.pause=c.pause.bind(c),I.resume=c.resume.bind(c),I.stop=I,I}function Ye(t,e=1/0,s){if(e<=0||!ee(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,le(t))Ye(t.value,e,s);else if(j(t))for(let r=0;r<t.length;r++)Ye(t[r],e,s);else if(eo(t)||Dt(t))t.forEach(r=>{Ye(r,e,s)});else if(ro(t)){for(const r in t)Ye(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ye(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bs(t,e,s,r){try{return r?t(...r):t()}catch(n){ar(n,e,s)}}function Ve(t,e,s,r){if(L(t)){const n=bs(t,e,s,r);return n&&to(n)&&n.catch(i=>{ar(i,e,s)}),n}if(j(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ve(t[i],e,s,r));return n}}function ar(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||z;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(i){ht(),bs(i,null,10,[t,l,u]),ft();return}}Pl(t,s,n,r,o)}function Pl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const he=[];let Me=-1;const Bt=[];let rt=null,$t=0;const Eo=Promise.resolve();let zs=null;function $l(t){const e=zs||Eo;return t?e.then(this?t.bind(this):t):e}function jl(t){let e=Me+1,s=he.length;for(;e<s;){const r=e+s>>>1,n=he[r],i=_s(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function jn(t){if(!(t.flags&1)){const e=_s(t),s=he[he.length-1];!s||!(t.flags&2)&&e>=_s(s)?he.push(t):he.splice(jl(e),0,t),t.flags|=1,To()}}function To(){zs||(zs=Eo.then(Ao))}function Il(t){j(t)?Bt.push(...t):rt&&t.id===-1?rt.splice($t+1,0,t):t.flags&1||(Bt.push(t),t.flags|=1),To()}function si(t,e,s=Me+1){for(;s<he.length;s++){const r=he[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;he.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Oo(t){if(Bt.length){const e=[...new Set(Bt)].sort((s,r)=>_s(s)-_s(r));if(Bt.length=0,rt){rt.push(...e);return}for(rt=e,$t=0;$t<rt.length;$t++){const s=rt[$t];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}rt=null,$t=0}}const _s=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ao(t){try{for(Me=0;Me<he.length;Me++){const e=he[Me];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),bs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Me<he.length;Me++){const e=he[Me];e&&(e.flags&=-2)}Me=-1,he.length=0,Oo(),zs=null,(he.length||Bt.length)&&Ao()}}let xe=null,Co=null;function Gs(t){const e=xe;return xe=t,Co=t&&t.type.__scopeId||null,e}function Ll(t,e=xe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&di(-1);const i=Gs(e);let o;try{o=t(...n)}finally{Gs(i),r._d&&di(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ri(t,e){if(xe===null)return t;const s=fr(xe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=z]=e[n];i&&(L(i)&&(i={mounted:i,updated:i}),i.deep&&Ye(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function mt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ht(),Ve(l,s,8,[t.el,a,t,e]),ft())}}const Dl=Symbol("_vte"),Ul=t=>t.__isTeleport;function In(t,e){t.shapeFlag&6&&t.component?(t.transition=e,In(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ro(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ys(t,e,s,r,n=!1){if(j(t)){t.forEach((S,O)=>Ys(S,e&&(j(e)?e[O]:e),s,r,n));return}if(ls(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ys(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?fr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===z?a.refs={}:a.refs,f=a.setupState,p=H(f),_=f===z?()=>!1:S=>V(p,S);if(u!=null&&u!==l&&(te(u)?(c[u]=null,_(u)&&(f[u]=null)):le(u)&&(u.value=null)),L(l))bs(l,a,12,[o,c]);else{const S=te(l),O=le(l);if(S||O){const P=()=>{if(t.f){const I=S?_(l)?f[l]:c[l]:l.value;n?j(I)&&kn(I,i):j(I)?I.includes(i)||I.push(i):S?(c[l]=[i],_(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else S?(c[l]=o,_(l)&&(f[l]=o)):O&&(l.value=o,t.k&&(c[t.k]=o))};o?(P.id=-1,ve(P,s)):P()}}}ir().requestIdleCallback;ir().cancelIdleCallback;const ls=t=>!!t.type.__asyncLoader,Po=t=>t.type.__isKeepAlive;function Bl(t,e){$o(t,"a",e)}function Nl(t,e){$o(t,"da",e)}function $o(t,e,s=ae){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(lr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Po(n.parent.vnode)&&Ml(r,e,s,n),n=n.parent}}function Ml(t,e,s,r){const n=lr(e,t,r,!0);cr(()=>{kn(r[e],n)},s)}function lr(t,e,s=ae,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ht();const a=ks(s),l=Ve(e,s,t,o);return a(),ft(),l});return r?n.unshift(i):n.push(i),i}}const Xe=t=>(e,s=ae)=>{(!ys||t==="sp")&&lr(t,(...r)=>e(...r),s)},Fl=Xe("bm"),Ln=Xe("m"),ql=Xe("bu"),Hl=Xe("u"),Vl=Xe("bum"),cr=Xe("um"),Kl=Xe("sp"),Wl=Xe("rtg"),Jl=Xe("rtc");function zl(t,e=ae){lr("ec",t,e)}const Gl="components",jo=Symbol.for("v-ndc");function Yl(t){return te(t)?Ql(Gl,t,!1)||t:t||jo}function Ql(t,e,s=!0,r=!1){const n=xe||ae;if(n){const i=n.type;{const a=Nc(i,!1);if(a&&(a===e||a===Oe(e)||a===nr(Oe(e))))return i}const o=ni(n[t]||i[t],e)||ni(n.appContext[t],e);return!o&&r?i:o}}function ni(t,e){return t&&(t[e]||t[Oe(e)]||t[nr(Oe(e))])}function Qs(t,e,s,r){let n;const i=s,o=j(t);if(o||te(t)){const a=o&&Ut(t);let l=!1;a&&(l=!Te(t),t=or(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?oe(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ee(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Xr=t=>t?sa(t)?fr(t):Xr(t.parent):null,cs=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xr(t.parent),$root:t=>Xr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Lo(t),$forceUpdate:t=>t.f||(t.f=()=>{jn(t.update)}),$nextTick:t=>t.n||(t.n=$l.bind(t.proxy)),$watch:t=>vc.bind(t)}),Cr=(t,e)=>t!==z&&!t.__isScriptSetup&&V(t,e),Xl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Cr(r,e))return o[e]=1,r[e];if(n!==z&&V(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&V(u,e))return o[e]=3,i[e];if(s!==z&&V(s,e))return o[e]=4,s[e];Zr&&(o[e]=0)}}const c=cs[e];let f,p;if(c)return e==="$attrs"&&ie(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==z&&V(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,V(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Cr(n,e)?(n[e]=s,!0):r!==z&&V(r,e)?(r[e]=s,!0):V(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==z&&V(t,o)||Cr(e,o)||(a=i[0])&&V(a,o)||V(r,o)||V(cs,o)||V(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:V(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ii(t){return j(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Zr=!0;function Zl(t){const e=Lo(t),s=t.proxy,r=t.ctx;Zr=!1,e.beforeCreate&&oi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:p,beforeUpdate:_,updated:S,activated:O,deactivated:P,beforeDestroy:I,beforeUnmount:F,destroyed:M,unmounted:A,render:q,renderTracked:Ze,renderTriggered:je,errorCaptured:et,serverPrefetch:Es,expose:pt,inheritAttrs:zt,components:Ts,directives:Os,filters:kr}=e;if(u&&ec(u,r,null),o)for(const Z in o){const G=o[Z];L(G)&&(r[Z]=G.bind(s))}if(n){const Z=n.call(s,s);ee(Z)&&(t.data=Rn(Z))}if(Zr=!0,i)for(const Z in i){const G=i[Z],gt=L(G)?G.bind(s,s):L(G.get)?G.get.bind(s,s):qe,As=!L(G)&&L(G.set)?G.set.bind(s):qe,_t=na({get:gt,set:As});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Ie=>_t.value=Ie})}if(a)for(const Z in a)Io(a[Z],r,s,Z);if(l){const Z=L(l)?l.call(s):l;Reflect.ownKeys(Z).forEach(G=>{oc(G,Z[G])})}c&&oi(c,t,"c");function ce(Z,G){j(G)?G.forEach(gt=>Z(gt.bind(s))):G&&Z(G.bind(s))}if(ce(Fl,f),ce(Ln,p),ce(ql,_),ce(Hl,S),ce(Bl,O),ce(Nl,P),ce(zl,et),ce(Jl,Ze),ce(Wl,je),ce(Vl,F),ce(cr,A),ce(Kl,Es),j(pt))if(pt.length){const Z=t.exposed||(t.exposed={});pt.forEach(G=>{Object.defineProperty(Z,G,{get:()=>s[G],set:gt=>s[G]=gt})})}else t.exposed||(t.exposed={});q&&t.render===qe&&(t.render=q),zt!=null&&(t.inheritAttrs=zt),Ts&&(t.components=Ts),Os&&(t.directives=Os),Es&&Ro(t)}function ec(t,e,s=qe){j(t)&&(t=en(t));for(const r in t){const n=t[r];let i;ee(n)?"default"in n?i=Ms(n.from||r,n.default,!0):i=Ms(n.from||r):i=Ms(n),le(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function oi(t,e,s){Ve(j(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Io(t,e,s,r){let n=r.includes(".")?Go(s,r):()=>s[r];if(te(t)){const i=e[t];L(i)&&Pr(n,i)}else if(L(t))Pr(n,t.bind(s));else if(ee(t))if(j(t))t.forEach(i=>Io(i,e,s,r));else{const i=L(t.handler)?t.handler.bind(s):e[t.handler];L(i)&&Pr(n,i,t)}}function Lo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Xs(l,u,o,!0)),Xs(l,e,o)),ee(e)&&i.set(e,l),l}function Xs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Xs(t,i,s,!0),n&&n.forEach(o=>Xs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=tc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const tc={data:ai,props:li,emits:li,methods:ss,computed:ss,beforeCreate:ue,created:ue,beforeMount:ue,mounted:ue,beforeUpdate:ue,updated:ue,beforeDestroy:ue,beforeUnmount:ue,destroyed:ue,unmounted:ue,activated:ue,deactivated:ue,errorCaptured:ue,serverPrefetch:ue,components:ss,directives:ss,watch:rc,provide:ai,inject:sc};function ai(t,e){return e?t?function(){return fe(L(t)?t.call(this,this):t,L(e)?e.call(this,this):e)}:e:t}function sc(t,e){return ss(en(t),en(e))}function en(t){if(j(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ue(t,e){return t?[...new Set([].concat(t,e))]:e}function ss(t,e){return t?fe(Object.create(null),t,e):e}function li(t,e){return t?j(t)&&j(e)?[...new Set([...t,...e])]:fe(Object.create(null),ii(t),ii(e??{})):e}function rc(t,e){if(!t)return e;if(!e)return t;const s=fe(Object.create(null),t);for(const r in e)s[r]=ue(t[r],e[r]);return s}function Do(){return{app:null,config:{isNativeTag:Ka,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nc=0;function ic(t,e){return function(r,n=null){L(r)||(r=fe({},r)),n!=null&&!ee(n)&&(n=null);const i=Do(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:nc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Fc,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&L(c.install)?(o.add(c),c.install(u,...f)):L(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,p){if(!l){const _=u._ceVNode||re(r,n);return _.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,fr(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ve(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=Nt;Nt=u;try{return c()}finally{Nt=f}}};return u}}let Nt=null;function oc(t,e){if(ae){let s=ae.provides;const r=ae.parent&&ae.parent.provides;r===s&&(s=ae.provides=Object.create(r)),s[t]=e}}function Ms(t,e,s=!1){const r=ae||xe;if(r||Nt){const n=Nt?Nt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&L(e)?e.call(r&&r.proxy):e}}const Uo={},Bo=()=>Object.create(Uo),No=t=>Object.getPrototypeOf(t)===Uo;function ac(t,e,s,r=!1){const n={},i=Bo();t.propsDefaults=Object.create(null),Mo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:kl(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function lc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=H(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(ur(t.emitsOptions,p))continue;const _=e[p];if(l)if(V(i,p))_!==i[p]&&(i[p]=_,u=!0);else{const S=Oe(p);n[S]=tn(l,a,S,_,t,!1)}else _!==i[p]&&(i[p]=_,u=!0)}}}else{Mo(t,e,n,i)&&(u=!0);let c;for(const f in a)(!e||!V(e,f)&&((c=Tt(f))===f||!V(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(n[f]=tn(l,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!V(e,f))&&(delete i[f],u=!0)}u&&Ge(t.attrs,"set","")}function Mo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(is(l))continue;const u=e[l];let c;n&&V(n,c=Oe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:ur(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=H(s),u=a||z;for(let c=0;c<i.length;c++){const f=i[c];s[f]=tn(n,l,f,u[f],t,!V(u,f))}}return o}function tn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=V(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&L(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ks(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Tt(s))&&(r=!0))}return r}const cc=new WeakMap;function Fo(t,e,s=!1){const r=s?cc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!L(t)){const c=f=>{l=!0;const[p,_]=Fo(f,e,!0);fe(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ee(t)&&r.set(t,Lt),Lt;if(j(i))for(let c=0;c<i.length;c++){const f=Oe(i[c]);ci(f)&&(o[f]=z)}else if(i)for(const c in i){const f=Oe(c);if(ci(f)){const p=i[c],_=o[f]=j(p)||L(p)?{type:p}:fe({},p),S=_.type;let O=!1,P=!0;if(j(S))for(let I=0;I<S.length;++I){const F=S[I],M=L(F)&&F.name;if(M==="Boolean"){O=!0;break}else M==="String"&&(P=!1)}else O=L(S)&&S.name==="Boolean";_[0]=O,_[1]=P,(O||V(_,"default"))&&a.push(f)}}const u=[o,a];return ee(t)&&r.set(t,u),u}function ci(t){return t[0]!=="$"&&!is(t)}const qo=t=>t[0]==="_"||t==="$stable",Dn=t=>j(t)?t.map(Fe):[Fe(t)],uc=(t,e,s)=>{if(e._n)return e;const r=Ll((...n)=>Dn(e(...n)),s);return r._c=!1,r},Ho=(t,e,s)=>{const r=t._ctx;for(const n in t){if(qo(n))continue;const i=t[n];if(L(i))e[n]=uc(n,i,r);else if(i!=null){const o=Dn(i);e[n]=()=>o}}},Vo=(t,e)=>{const s=Dn(e);t.slots.default=()=>s},Ko=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},hc=(t,e,s)=>{const r=t.slots=Bo();if(t.vnode.shapeFlag&32){const n=e._;n?(Ko(r,e,s),s&&no(r,"_",n,!0)):Ho(e,r)}else e&&Vo(t,e)},fc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=z;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Ko(n,e,s):(i=!e.$stable,Ho(e,n)),o=e}else e&&(Vo(t,e),o={default:1});if(i)for(const a in n)!qo(a)&&o[a]==null&&delete n[a]},ve=Tc;function dc(t){return pc(t)}function pc(t,e){const s=ir();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:p,setScopeId:_=qe,insertStaticContent:S}=t,O=(h,d,g,v=null,m=null,y=null,x=void 0,k=null,b=!!d.dynamicChildren)=>{if(h===d)return;h&&!Zt(h,d)&&(v=Cs(h),Ie(h,m,y,!0),h=null),d.patchFlag===-2&&(b=!1,d.dynamicChildren=null);const{type:w,ref:R,shapeFlag:E}=d;switch(w){case hr:P(h,d,g,v);break;case Et:I(h,d,g,v);break;case $r:h==null&&F(d,g,v,x);break;case ke:Ts(h,d,g,v,m,y,x,k,b);break;default:E&1?q(h,d,g,v,m,y,x,k,b):E&6?Os(h,d,g,v,m,y,x,k,b):(E&64||E&128)&&w.process(h,d,g,v,m,y,x,k,b,Yt)}R!=null&&m&&Ys(R,h&&h.ref,y,d||h,!d)},P=(h,d,g,v)=>{if(h==null)r(d.el=a(d.children),g,v);else{const m=d.el=h.el;d.children!==h.children&&u(m,d.children)}},I=(h,d,g,v)=>{h==null?r(d.el=l(d.children||""),g,v):d.el=h.el},F=(h,d,g,v)=>{[h.el,h.anchor]=S(h.children,d,g,v,h.el,h.anchor)},M=({el:h,anchor:d},g,v)=>{let m;for(;h&&h!==d;)m=p(h),r(h,g,v),h=m;r(d,g,v)},A=({el:h,anchor:d})=>{let g;for(;h&&h!==d;)g=p(h),n(h),h=g;n(d)},q=(h,d,g,v,m,y,x,k,b)=>{d.type==="svg"?x="svg":d.type==="math"&&(x="mathml"),h==null?Ze(d,g,v,m,y,x,k,b):Es(h,d,m,y,x,k,b)},Ze=(h,d,g,v,m,y,x,k)=>{let b,w;const{props:R,shapeFlag:E,transition:C,dirs:$}=h;if(b=h.el=o(h.type,y,R&&R.is,R),E&8?c(b,h.children):E&16&&et(h.children,b,null,v,m,Rr(h,y),x,k),$&&mt(h,null,v,"created"),je(b,h,h.scopeId,x,v),R){for(const Y in R)Y!=="value"&&!is(Y)&&i(b,Y,null,R[Y],y,v);"value"in R&&i(b,"value",null,R.value,y),(w=R.onVnodeBeforeMount)&&Be(w,v,h)}$&&mt(h,null,v,"beforeMount");const N=gc(m,C);N&&C.beforeEnter(b),r(b,d,g),((w=R&&R.onVnodeMounted)||N||$)&&ve(()=>{w&&Be(w,v,h),N&&C.enter(b),$&&mt(h,null,v,"mounted")},m)},je=(h,d,g,v,m)=>{if(g&&_(h,g),v)for(let y=0;y<v.length;y++)_(h,v[y]);if(m){let y=m.subTree;if(d===y||Qo(y.type)&&(y.ssContent===d||y.ssFallback===d)){const x=m.vnode;je(h,x,x.scopeId,x.slotScopeIds,m.parent)}}},et=(h,d,g,v,m,y,x,k,b=0)=>{for(let w=b;w<h.length;w++){const R=h[w]=k?nt(h[w]):Fe(h[w]);O(null,R,d,g,v,m,y,x,k)}},Es=(h,d,g,v,m,y,x)=>{const k=d.el=h.el;let{patchFlag:b,dynamicChildren:w,dirs:R}=d;b|=h.patchFlag&16;const E=h.props||z,C=d.props||z;let $;if(g&&yt(g,!1),($=C.onVnodeBeforeUpdate)&&Be($,g,d,h),R&&mt(d,h,g,"beforeUpdate"),g&&yt(g,!0),(E.innerHTML&&C.innerHTML==null||E.textContent&&C.textContent==null)&&c(k,""),w?pt(h.dynamicChildren,w,k,g,v,Rr(d,m),y):x||G(h,d,k,null,g,v,Rr(d,m),y,!1),b>0){if(b&16)zt(k,E,C,g,m);else if(b&2&&E.class!==C.class&&i(k,"class",null,C.class,m),b&4&&i(k,"style",E.style,C.style,m),b&8){const N=d.dynamicProps;for(let Y=0;Y<N.length;Y++){const W=N[Y],me=E[W],de=C[W];(de!==me||W==="value")&&i(k,W,me,de,m,g)}}b&1&&h.children!==d.children&&c(k,d.children)}else!x&&w==null&&zt(k,E,C,g,m);(($=C.onVnodeUpdated)||R)&&ve(()=>{$&&Be($,g,d,h),R&&mt(d,h,g,"updated")},v)},pt=(h,d,g,v,m,y,x)=>{for(let k=0;k<d.length;k++){const b=h[k],w=d[k],R=b.el&&(b.type===ke||!Zt(b,w)||b.shapeFlag&70)?f(b.el):g;O(b,w,R,null,v,m,y,x,!0)}},zt=(h,d,g,v,m)=>{if(d!==g){if(d!==z)for(const y in d)!is(y)&&!(y in g)&&i(h,y,d[y],null,m,v);for(const y in g){if(is(y))continue;const x=g[y],k=d[y];x!==k&&y!=="value"&&i(h,y,k,x,m,v)}"value"in g&&i(h,"value",d.value,g.value,m)}},Ts=(h,d,g,v,m,y,x,k,b)=>{const w=d.el=h?h.el:a(""),R=d.anchor=h?h.anchor:a("");let{patchFlag:E,dynamicChildren:C,slotScopeIds:$}=d;$&&(k=k?k.concat($):$),h==null?(r(w,g,v),r(R,g,v),et(d.children||[],g,R,m,y,x,k,b)):E>0&&E&64&&C&&h.dynamicChildren?(pt(h.dynamicChildren,C,g,m,y,x,k),(d.key!=null||m&&d===m.subTree)&&Wo(h,d,!0)):G(h,d,g,R,m,y,x,k,b)},Os=(h,d,g,v,m,y,x,k,b)=>{d.slotScopeIds=k,h==null?d.shapeFlag&512?m.ctx.activate(d,g,v,x,b):kr(d,g,v,m,y,x,b):zn(h,d,b)},kr=(h,d,g,v,m,y,x)=>{const k=h.component=Ic(h,v,m);if(Po(h)&&(k.ctx.renderer=Yt),Lc(k,!1,x),k.asyncDep){if(m&&m.registerDep(k,ce,x),!h.el){const b=k.subTree=re(Et);I(null,b,d,g)}}else ce(k,h,d,g,m,y,x)},zn=(h,d,g)=>{const v=d.component=h.component;if(Sc(h,d,g))if(v.asyncDep&&!v.asyncResolved){Z(v,d,g);return}else v.next=d,v.update();else d.el=h.el,v.vnode=d},ce=(h,d,g,v,m,y,x)=>{const k=()=>{if(h.isMounted){let{next:E,bu:C,u:$,parent:N,vnode:Y}=h;{const De=Jo(h);if(De){E&&(E.el=Y.el,Z(h,E,x)),De.asyncDep.then(()=>{h.isUnmounted||k()});return}}let W=E,me;yt(h,!1),E?(E.el=Y.el,Z(h,E,x)):E=Y,C&&Ns(C),(me=E.props&&E.props.onVnodeBeforeUpdate)&&Be(me,N,E,Y),yt(h,!0);const de=hi(h),Le=h.subTree;h.subTree=de,O(Le,de,f(Le.el),Cs(Le),h,m,y),E.el=de.el,W===null&&Ec(h,de.el),$&&ve($,m),(me=E.props&&E.props.onVnodeUpdated)&&ve(()=>Be(me,N,E,Y),m)}else{let E;const{el:C,props:$}=d,{bm:N,m:Y,parent:W,root:me,type:de}=h,Le=ls(d);yt(h,!1),N&&Ns(N),!Le&&(E=$&&$.onVnodeBeforeMount)&&Be(E,W,d),yt(h,!0);{me.ce&&me.ce._injectChildStyle(de);const De=h.subTree=hi(h);O(null,De,g,v,h,m,y),d.el=De.el}if(Y&&ve(Y,m),!Le&&(E=$&&$.onVnodeMounted)){const De=d;ve(()=>Be(E,W,De),m)}(d.shapeFlag&256||W&&ls(W.vnode)&&W.vnode.shapeFlag&256)&&h.a&&ve(h.a,m),h.isMounted=!0,d=g=v=null}};h.scope.on();const b=h.effect=new lo(k);h.scope.off();const w=h.update=b.run.bind(b),R=h.job=b.runIfDirty.bind(b);R.i=h,R.id=h.uid,b.scheduler=()=>jn(R),yt(h,!0),w()},Z=(h,d,g)=>{d.component=h;const v=h.vnode.props;h.vnode=d,h.next=null,lc(h,d.props,v,g),fc(h,d.children,g),ht(),si(h),ft()},G=(h,d,g,v,m,y,x,k,b=!1)=>{const w=h&&h.children,R=h?h.shapeFlag:0,E=d.children,{patchFlag:C,shapeFlag:$}=d;if(C>0){if(C&128){As(w,E,g,v,m,y,x,k,b);return}else if(C&256){gt(w,E,g,v,m,y,x,k,b);return}}$&8?(R&16&&Gt(w,m,y),E!==w&&c(g,E)):R&16?$&16?As(w,E,g,v,m,y,x,k,b):Gt(w,m,y,!0):(R&8&&c(g,""),$&16&&et(E,g,v,m,y,x,k,b))},gt=(h,d,g,v,m,y,x,k,b)=>{h=h||Lt,d=d||Lt;const w=h.length,R=d.length,E=Math.min(w,R);let C;for(C=0;C<E;C++){const $=d[C]=b?nt(d[C]):Fe(d[C]);O(h[C],$,g,null,m,y,x,k,b)}w>R?Gt(h,m,y,!0,!1,E):et(d,g,v,m,y,x,k,b,E)},As=(h,d,g,v,m,y,x,k,b)=>{let w=0;const R=d.length;let E=h.length-1,C=R-1;for(;w<=E&&w<=C;){const $=h[w],N=d[w]=b?nt(d[w]):Fe(d[w]);if(Zt($,N))O($,N,g,null,m,y,x,k,b);else break;w++}for(;w<=E&&w<=C;){const $=h[E],N=d[C]=b?nt(d[C]):Fe(d[C]);if(Zt($,N))O($,N,g,null,m,y,x,k,b);else break;E--,C--}if(w>E){if(w<=C){const $=C+1,N=$<R?d[$].el:v;for(;w<=C;)O(null,d[w]=b?nt(d[w]):Fe(d[w]),g,N,m,y,x,k,b),w++}}else if(w>C)for(;w<=E;)Ie(h[w],m,y,!0),w++;else{const $=w,N=w,Y=new Map;for(w=N;w<=C;w++){const ye=d[w]=b?nt(d[w]):Fe(d[w]);ye.key!=null&&Y.set(ye.key,w)}let W,me=0;const de=C-N+1;let Le=!1,De=0;const Qt=new Array(de);for(w=0;w<de;w++)Qt[w]=0;for(w=$;w<=E;w++){const ye=h[w];if(me>=de){Ie(ye,m,y,!0);continue}let Ue;if(ye.key!=null)Ue=Y.get(ye.key);else for(W=N;W<=C;W++)if(Qt[W-N]===0&&Zt(ye,d[W])){Ue=W;break}Ue===void 0?Ie(ye,m,y,!0):(Qt[Ue-N]=w+1,Ue>=De?De=Ue:Le=!0,O(ye,d[Ue],g,null,m,y,x,k,b),me++)}const Qn=Le?_c(Qt):Lt;for(W=Qn.length-1,w=de-1;w>=0;w--){const ye=N+w,Ue=d[ye],Xn=ye+1<R?d[ye+1].el:v;Qt[w]===0?O(null,Ue,g,Xn,m,y,x,k,b):Le&&(W<0||w!==Qn[W]?_t(Ue,g,Xn,2):W--)}}},_t=(h,d,g,v,m=null)=>{const{el:y,type:x,transition:k,children:b,shapeFlag:w}=h;if(w&6){_t(h.component.subTree,d,g,v);return}if(w&128){h.suspense.move(d,g,v);return}if(w&64){x.move(h,d,g,Yt);return}if(x===ke){r(y,d,g);for(let E=0;E<b.length;E++)_t(b[E],d,g,v);r(h.anchor,d,g);return}if(x===$r){M(h,d,g);return}if(v!==2&&w&1&&k)if(v===0)k.beforeEnter(y),r(y,d,g),ve(()=>k.enter(y),m);else{const{leave:E,delayLeave:C,afterLeave:$}=k,N=()=>r(y,d,g),Y=()=>{E(y,()=>{N(),$&&$()})};C?C(y,N,Y):Y()}else r(y,d,g)},Ie=(h,d,g,v=!1,m=!1)=>{const{type:y,props:x,ref:k,children:b,dynamicChildren:w,shapeFlag:R,patchFlag:E,dirs:C,cacheIndex:$}=h;if(E===-2&&(m=!1),k!=null&&Ys(k,null,g,h,!0),$!=null&&(d.renderCache[$]=void 0),R&256){d.ctx.deactivate(h);return}const N=R&1&&C,Y=!ls(h);let W;if(Y&&(W=x&&x.onVnodeBeforeUnmount)&&Be(W,d,h),R&6)Va(h.component,g,v);else{if(R&128){h.suspense.unmount(g,v);return}N&&mt(h,null,d,"beforeUnmount"),R&64?h.type.remove(h,d,g,Yt,v):w&&!w.hasOnce&&(y!==ke||E>0&&E&64)?Gt(w,d,g,!1,!0):(y===ke&&E&384||!m&&R&16)&&Gt(b,d,g),v&&Gn(h)}(Y&&(W=x&&x.onVnodeUnmounted)||N)&&ve(()=>{W&&Be(W,d,h),N&&mt(h,null,d,"unmounted")},g)},Gn=h=>{const{type:d,el:g,anchor:v,transition:m}=h;if(d===ke){Ha(g,v);return}if(d===$r){A(h);return}const y=()=>{n(g),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(h.shapeFlag&1&&m&&!m.persisted){const{leave:x,delayLeave:k}=m,b=()=>x(g,y);k?k(h.el,y,b):b()}else y()},Ha=(h,d)=>{let g;for(;h!==d;)g=p(h),n(h),h=g;n(d)},Va=(h,d,g)=>{const{bum:v,scope:m,job:y,subTree:x,um:k,m:b,a:w}=h;ui(b),ui(w),v&&Ns(v),m.stop(),y&&(y.flags|=8,Ie(x,h,d,g)),k&&ve(k,d),ve(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Gt=(h,d,g,v=!1,m=!1,y=0)=>{for(let x=y;x<h.length;x++)Ie(h[x],d,g,v,m)},Cs=h=>{if(h.shapeFlag&6)return Cs(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const d=p(h.anchor||h.el),g=d&&d[Dl];return g?p(g):d};let xr=!1;const Yn=(h,d,g)=>{h==null?d._vnode&&Ie(d._vnode,null,null,!0):O(d._vnode||null,h,d,null,null,null,g),d._vnode=h,xr||(xr=!0,si(),Oo(),xr=!1)},Yt={p:O,um:Ie,m:_t,r:Gn,mt:kr,mc:et,pc:G,pbc:pt,n:Cs,o:t};return{render:Yn,hydrate:void 0,createApp:ic(Yn)}}function Rr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function yt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function gc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wo(t,e,s=!1){const r=t.children,n=e.children;if(j(r)&&j(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=nt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Wo(o,a)),a.type===hr&&(a.el=o.el)}}function _c(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Jo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Jo(e)}function ui(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const mc=Symbol.for("v-scx"),yc=()=>Ms(mc);function Pr(t,e,s){return zo(t,e,s)}function zo(t,e,s=z){const{immediate:r,deep:n,flush:i,once:o}=s,a=fe({},s),l=e&&r||!e&&i!=="post";let u;if(ys){if(i==="sync"){const _=yc();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=qe,_.resume=qe,_.pause=qe,_}}const c=ae;a.call=(_,S,O)=>Ve(_,c,S,O);let f=!1;i==="post"?a.scheduler=_=>{ve(_,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(_,S)=>{S?_():jn(_)}),a.augmentJob=_=>{e&&(_.flags|=4),f&&(_.flags|=2,c&&(_.id=c.uid,_.i=c))};const p=Rl(t,e,a);return ys&&(u?u.push(p):l&&p()),p}function vc(t,e,s){const r=this.proxy,n=te(t)?t.includes(".")?Go(r,t):()=>r[t]:t.bind(r,r);let i;L(e)?i=e:(i=e.handler,s=e);const o=ks(this),a=zo(n,i.bind(r),s);return o(),a}function Go(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const wc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Oe(e)}Modifiers`]||t[`${Tt(e)}Modifiers`];function bc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||z;let n=s;const i=e.startsWith("update:"),o=i&&wc(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>te(c)?c.trim():c)),o.number&&(n=s.map(Wr)));let a,l=r[a=Sr(e)]||r[a=Sr(Oe(e))];!l&&i&&(l=r[a=Sr(Tt(e))]),l&&Ve(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ve(u,t,6,n)}}function Yo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!L(t)){const l=u=>{const c=Yo(u,e,!0);c&&(a=!0,fe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ee(t)&&r.set(t,null),null):(j(i)?i.forEach(l=>o[l]=null):fe(o,i),ee(t)&&r.set(t,o),o)}function ur(t,e){return!t||!tr(e)?!1:(e=e.slice(2).replace(/Once$/,""),V(t,e[0].toLowerCase()+e.slice(1))||V(t,Tt(e))||V(t,e))}function hi(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:p,setupState:_,ctx:S,inheritAttrs:O}=t,P=Gs(t);let I,F;try{if(s.shapeFlag&4){const A=n||r,q=A;I=Fe(u.call(q,A,c,f,_,p,S)),F=a}else{const A=e;I=Fe(A.length>1?A(f,{attrs:a,slots:o,emit:l}):A(f,null)),F=e.props?a:kc(a)}}catch(A){us.length=0,ar(A,t,1),I=re(Et)}let M=I;if(F&&O!==!1){const A=Object.keys(F),{shapeFlag:q}=M;A.length&&q&7&&(i&&A.some(bn)&&(F=xc(F,i)),M=qt(M,F,!1,!0))}return s.dirs&&(M=qt(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&In(M,s.transition),I=M,Gs(P),I}const kc=t=>{let e;for(const s in t)(s==="class"||s==="style"||tr(s))&&((e||(e={}))[s]=t[s]);return e},xc=(t,e)=>{const s={};for(const r in t)(!bn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Sc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?fi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(o[p]!==r[p]&&!ur(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?fi(r,o,u):!0:!!o;return!1}function fi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!ur(s,i))return!0}return!1}function Ec({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Qo=t=>t.__isSuspense;function Tc(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):Il(t)}const ke=Symbol.for("v-fgt"),hr=Symbol.for("v-txt"),Et=Symbol.for("v-cmt"),$r=Symbol.for("v-stc"),us=[];let Se=null;function K(t=!1){us.push(Se=t?null:[])}function Oc(){us.pop(),Se=us[us.length-1]||null}let ms=1;function di(t,e=!1){ms+=t,t<0&&Se&&e&&(Se.hasOnce=!0)}function Xo(t){return t.dynamicChildren=ms>0?Se||Lt:null,Oc(),ms>0&&Se&&Se.push(t),t}function J(t,e,s,r,n,i){return Xo(T(t,e,s,r,n,i,!0))}function Zo(t,e,s,r,n){return Xo(re(t,e,s,r,n,!0))}function ea(t){return t?t.__v_isVNode===!0:!1}function Zt(t,e){return t.type===e.type&&t.key===e.key}const ta=({key:t})=>t??null,Fs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?te(t)||le(t)||L(t)?{i:xe,r:t,k:e,f:!!s}:t:null);function T(t,e=null,s=null,r=0,n=null,i=t===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ta(e),ref:e&&Fs(e),scopeId:Co,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:xe};return a?(Un(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=te(s)?8:16),ms>0&&!o&&Se&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Se.push(l),l}const re=Ac;function Ac(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===jo)&&(t=Et),ea(t)){const a=qt(t,e,!0);return s&&Un(a,s),ms>0&&!i&&Se&&(a.shapeFlag&6?Se[Se.indexOf(t)]=a:Se.push(a)),a.patchFlag=-2,a}if(Mc(t)&&(t=t.__vccOpts),e){e=Cc(e);let{class:a,style:l}=e;a&&!te(a)&&(e.class=Ft(a)),ee(l)&&($n(l)&&!j(l)&&(l=fe({},l)),e.style=Sn(l))}const o=te(t)?1:Qo(t)?128:Ul(t)?64:ee(t)?4:L(t)?2:0;return T(t,e,s,r,n,o,i,!0)}function Cc(t){return t?$n(t)||No(t)?fe({},t):t:null}function qt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Pc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ta(u),ref:e&&e.ref?s&&i?j(i)?i.concat(Fs(e)):[i,Fs(e)]:Fs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qt(t.ssContent),ssFallback:t.ssFallback&&qt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&In(c,l.clone(c)),c}function Rc(t=" ",e=0){return re(hr,null,t,e)}function pi(t="",e=!1){return e?(K(),Zo(Et,null,t)):re(Et,null,t)}function Fe(t){return t==null||typeof t=="boolean"?re(Et):j(t)?re(ke,null,t.slice()):ea(t)?nt(t):re(hr,null,String(t))}function nt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qt(t)}function Un(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(j(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Un(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!No(e)?e._ctx=xe:n===3&&xe&&(xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else L(e)?(e={default:e,_ctx:xe},s=32):(e=String(e),r&64?(s=16,e=[Rc(e)]):s=8);t.children=e,t.shapeFlag|=s}function Pc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Ft([e.class,r.class]));else if(n==="style")e.style=Sn([e.style,r.style]);else if(tr(n)){const i=e[n],o=r[n];o&&i!==o&&!(j(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Be(t,e,s,r=null){Ve(t,e,7,[s,r])}const $c=Do();let jc=0;function Ic(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||$c,i={uid:jc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fo(r,n),emitsOptions:Yo(r,n),emit:null,emitted:null,propsDefaults:z,inheritAttrs:r.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=bc.bind(null,i),t.ce&&t.ce(i),i}let ae=null,Zs,sn;{const t=ir(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Zs=e("__VUE_INSTANCE_SETTERS__",s=>ae=s),sn=e("__VUE_SSR_SETTERS__",s=>ys=s)}const ks=t=>{const e=ae;return Zs(t),t.scope.on(),()=>{t.scope.off(),Zs(e)}},gi=()=>{ae&&ae.scope.off(),Zs(null)};function sa(t){return t.vnode.shapeFlag&4}let ys=!1;function Lc(t,e=!1,s=!1){e&&sn(e);const{props:r,children:n}=t.vnode,i=sa(t);ac(t,r,i,e),hc(t,n,s);const o=i?Dc(t,e):void 0;return e&&sn(!1),o}function Dc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Xl);const{setup:r}=s;if(r){ht();const n=t.setupContext=r.length>1?Bc(t):null,i=ks(t),o=bs(r,t,0,[t.props,n]),a=to(o);if(ft(),i(),(a||t.sp)&&!ls(t)&&Ro(t),a){if(o.then(gi,gi),e)return o.then(l=>{_i(t,l)}).catch(l=>{ar(l,t,0)});t.asyncDep=o}else _i(t,o)}else ra(t)}function _i(t,e,s){L(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ee(e)&&(t.setupState=So(e)),ra(t)}function ra(t,e,s){const r=t.type;t.render||(t.render=r.render||qe);{const n=ks(t);ht();try{Zl(t)}finally{ft(),n()}}}const Uc={get(t,e){return ie(t,"get",""),t[e]}};function Bc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Uc),slots:t.slots,emit:t.emit,expose:e}}function fr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(So(xl(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in cs)return cs[s](t)},has(e,s){return s in e||s in cs}})):t.proxy}function Nc(t,e=!0){return L(t)?t.displayName||t.name:t.name||e&&t.__name}function Mc(t){return L(t)&&"__vccOpts"in t}const na=(t,e)=>Al(t,e,ys),Fc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rn;const mi=typeof window<"u"&&window.trustedTypes;if(mi)try{rn=mi.createPolicy("vue",{createHTML:t=>t})}catch{}const ia=rn?t=>rn.createHTML(t):t=>t,qc="http://www.w3.org/2000/svg",Hc="http://www.w3.org/1998/Math/MathML",Je=typeof document<"u"?document:null,yi=Je&&Je.createElement("template"),Vc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Je.createElementNS(qc,t):e==="mathml"?Je.createElementNS(Hc,t):s?Je.createElement(t,{is:s}):Je.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Je.createTextNode(t),createComment:t=>Je.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Je.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{yi.innerHTML=ia(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=yi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Kc=Symbol("_vtc");function Wc(t,e,s){const r=t[Kc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const vi=Symbol("_vod"),Jc=Symbol("_vsh"),zc=Symbol(""),Gc=/(^|;)\s*display\s*:/;function Yc(t,e,s){const r=t.style,n=te(s);let i=!1;if(s&&!n){if(e)if(te(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&qs(r,a,"")}else for(const o in e)s[o]==null&&qs(r,o,"");for(const o in s)o==="display"&&(i=!0),qs(r,o,s[o])}else if(n){if(e!==s){const o=r[zc];o&&(s+=";"+o),r.cssText=s,i=Gc.test(s)}}else e&&t.removeAttribute("style");vi in t&&(t[vi]=i?r.display:"",t[Jc]&&(r.display="none"))}const wi=/\s*!important$/;function qs(t,e,s){if(j(s))s.forEach(r=>qs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Qc(t,e);wi.test(s)?t.setProperty(Tt(r),s.replace(wi,""),"important"):t[r]=s}}const bi=["Webkit","Moz","ms"],jr={};function Qc(t,e){const s=jr[e];if(s)return s;let r=Oe(e);if(r!=="filter"&&r in t)return jr[e]=r;r=nr(r);for(let n=0;n<bi.length;n++){const i=bi[n]+r;if(i in t)return jr[e]=i}return e}const ki="http://www.w3.org/1999/xlink";function xi(t,e,s,r,n,i=tl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(ki,e.slice(6,e.length)):t.setAttributeNS(ki,e,s):s==null||i&&!io(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ut(s)?String(s):s)}function Si(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?ia(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=io(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function jt(t,e,s,r){t.addEventListener(e,s,r)}function Xc(t,e,s,r){t.removeEventListener(e,s,r)}const Ei=Symbol("_vei");function Zc(t,e,s,r,n=null){const i=t[Ei]||(t[Ei]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=eu(e);if(r){const u=i[e]=ru(r,n);jt(t,a,u,l)}else o&&(Xc(t,a,o,l),i[e]=void 0)}}const Ti=/(?:Once|Passive|Capture)$/;function eu(t){let e;if(Ti.test(t)){e={};let r;for(;r=t.match(Ti);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Tt(t.slice(2)),e]}let Ir=0;const tu=Promise.resolve(),su=()=>Ir||(tu.then(()=>Ir=0),Ir=Date.now());function ru(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ve(nu(r,s.value),e,5,[r])};return s.value=t,s.attached=su(),s}function nu(t,e){if(j(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Oi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,iu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Wc(t,r,o):e==="style"?Yc(t,s,r):tr(e)?bn(e)||Zc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ou(t,e,r,o))?(Si(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&xi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!te(r))?Si(t,Oe(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),xi(t,e,r,o))};function ou(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Oi(e)&&L(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Oi(e)&&te(s)?!1:e in t}const Ai=t=>{const e=t.props["onUpdate:modelValue"]||!1;return j(e)?s=>Ns(e,s):e};function au(t){t.target.composing=!0}function Ci(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Lr=Symbol("_assign"),Ri={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Lr]=Ai(n);const i=r||n.props&&n.props.type==="number";jt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Wr(a)),t[Lr](a)}),s&&jt(t,"change",()=>{t.value=t.value.trim()}),e||(jt(t,"compositionstart",au),jt(t,"compositionend",Ci),jt(t,"change",Ci))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Lr]=Ai(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Wr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},lu=["ctrl","shift","alt","meta"],cu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>lu.some(s=>t[`${s}Key`]&&!e.includes(s))},Pi=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=cu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},uu=fe({patchProp:iu},Vc);let $i;function hu(){return $i||($i=dc(uu))}const fu=(...t)=>{const e=hu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=pu(r);if(!n)return;const i=e._component;!L(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,du(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function du(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pu(t){return te(t)?document.querySelector(t):t}function gu(t,e){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function ji(t,e){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function _u(t,e){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function nn(t,e){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function mu(t,e){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function Dr(t,e){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const yu={class:"h-screen w-64 bg-gray-900 text-white flex flex-col"},vu={class:"p-4 border-b border-gray-800"},wu={class:"flex items-center space-x-3"},bu={class:"flex-1 p-4"},ku={class:"space-y-2"},xu=["onClick"],Su={class:"p-4 border-t border-gray-800"},Eu={class:"w-full flex items-center justify-center space-x-2 p-2 rounded-lg hover:bg-gray-800 transition-colors"},Tu={__name:"Sidebar",setup(t){const e=Pe([{name:"Home",icon:_u},{name:"Messages",icon:gu},{name:"Public",icon:mu},{name:"Settings",icon:ji}]),s=Pe("Messages");return(r,n)=>(K(),J("div",yu,[T("div",vu,[T("div",wu,[re(ot(nn),{class:"h-10 w-10 text-gray-300"}),n[0]||(n[0]=T("div",null,[T("h3",{class:"font-semibold"},"Mero<3"),T("p",{class:"text-sm text-gray-400"},"Online")],-1))])]),T("nav",bu,[T("ul",ku,[(K(!0),J(ke,null,Qs(e.value,i=>(K(),J("li",{key:i.name},[T("a",{href:"#",onClick:o=>s.value=i.name,class:Ft(["flex items-center space-x-3 p-2 rounded-lg transition-colors",s.value===i.name?"bg-blue-600":"hover:bg-gray-800"])},[(K(),Zo(Yl(i.icon),{class:"h-5 w-5"})),T("span",null,Qe(i.name),1)],10,xu)]))),128))])]),T("div",Su,[T("button",Eu,[re(ot(ji),{class:"h-5 w-5"}),n[1]||(n[1]=T("span",null,"Settings",-1))])])]))}},Ou="modulepreload",Au=function(t){return"/"+t},Ii={},Ht=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Au(l),l in Ii)return;Ii[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ou,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,_)=>{f.addEventListener("load",p),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Cu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ht(async()=>{const{default:r}=await Promise.resolve().then(()=>Kt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Bn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Ru extends Bn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pu extends Bn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $u extends Bn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var on;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(on||(on={}));var ju=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Iu{constructor(e,{headers:s={},customFetch:r,region:n=on.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Cu(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return ju(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(S=>{throw new Ru(S)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Pu(c);if(!c.ok)throw new $u(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield c.json():p==="application/octet-stream"?_=yield c.blob():p==="text/event-stream"?_=c:p==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(n){return{data:null,error:n}}})}}var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ge={},Nn={},dr={},xs={},pr={},gr={},Du=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vt=Du();const Uu=Vt.fetch,oa=Vt.fetch.bind(Vt),aa=Vt.Headers,Bu=Vt.Request,Nu=Vt.Response,Kt=Object.freeze(Object.defineProperty({__proto__:null,Headers:aa,Request:Bu,Response:Nu,default:oa,fetch:Uu},Symbol.toStringTag,{value:"Module"})),Mu=Lu(Kt);var _r={};Object.defineProperty(_r,"__esModule",{value:!0});let Fu=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};_r.default=Fu;var la=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});const qu=la(Mu),Hu=la(_r);let Vu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,p=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const I=await i.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=I:c=JSON.parse(I))}const O=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),P=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");O&&P&&P.length>1&&(f=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,_="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const O=await i.text();try{u=JSON.parse(O),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,_="OK")}catch{i.status===404&&O===""?(p=204,_="No Content"):u={message:O}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,_="OK"),u&&this.shouldThrowOnError)throw new Hu.default(u)}return{error:u,data:c,count:f,status:p,statusText:_}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};gr.default=Vu;var Ku=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});const Wu=Ku(gr);let Ju=class extends Wu.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pr.default=Ju;var zu=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xs,"__esModule",{value:!0});const Gu=zu(pr);let Yu=class extends Gu.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};xs.default=Yu;var Qu=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dr,"__esModule",{value:!0});const es=Qu(xs);let Xu=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new es.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new es.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dr.default=Xu;var mr={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.version=void 0;yr.version="0.0.0-automated";Object.defineProperty(mr,"__esModule",{value:!0});mr.DEFAULT_HEADERS=void 0;const Zu=yr;mr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Zu.version}`};var ca=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});const eh=ca(dr),th=ca(xs),sh=mr;let rh=class ua{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},sh.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new eh.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ua(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new th.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Nn.default=rh;var Wt=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ge,"__esModule",{value:!0});ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const ha=Wt(Nn);ge.PostgrestClient=ha.default;const fa=Wt(dr);ge.PostgrestQueryBuilder=fa.default;const da=Wt(xs);ge.PostgrestFilterBuilder=da.default;const pa=Wt(pr);ge.PostgrestTransformBuilder=pa.default;const ga=Wt(gr);ge.PostgrestBuilder=ga.default;const _a=Wt(_r);ge.PostgrestError=_a.default;var nh=ge.default={PostgrestClient:ha.default,PostgrestQueryBuilder:fa.default,PostgrestFilterBuilder:da.default,PostgrestTransformBuilder:pa.default,PostgrestBuilder:ga.default,PostgrestError:_a.default};const{PostgrestClient:ih,PostgrestQueryBuilder:$p,PostgrestFilterBuilder:jp,PostgrestTransformBuilder:Ip,PostgrestBuilder:Lp,PostgrestError:Dp}=nh,oh="2.11.2",ah={"X-Client-Info":`realtime-js/${oh}`},lh="1.0.0",ma=1e4,ch=1e3;var Mt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Mt||(Mt={}));var we;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(we||(we={}));var Ce;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ce||(Ce={}));var an;(function(t){t.websocket="websocket"})(an||(an={}));var kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kt||(kt={}));class uh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ya{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const Li=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=hh(o,t,e,n),i),{})},hh=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?va(i,o):ln(o)},va=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return gh(e,s)}switch(t){case Q.bool:return fh(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return dh(e);case Q.json:case Q.jsonb:return ph(e);case Q.timestamp:return _h(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return ln(e);default:return ln(e)}},ln=t=>t,fh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ph=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gh=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>va(e,a))}return t},_h=t=>typeof t=="string"?t.replace(" ","T"):t,wa=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ur{constructor(e,s,r={},n=ma){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Di;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Di||(Di={}));class hs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=hs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=hs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const p=c.map(P=>P.presence_ref),_=f.map(P=>P.presence_ref),S=c.filter(P=>_.indexOf(P.presence_ref)<0),O=f.filter(P=>p.indexOf(P.presence_ref)<0);S.length>0&&(a[u]=S),O.length>0&&(l[u]=O)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(_=>_.presence_ref),p=c.filter(_=>f.indexOf(_.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ui;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ui||(Ui={}));var Bi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bi||(Bi={}));var ze;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ze||(ze={}));class Mn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ur(this,Ce.join,this.params,this.timeout),this.rejoinTimer=new ya(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ce.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new hs(this),this.broadcastEndpointURL=wa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(ze.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(ze.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(ze.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,_=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,S=[];for(let O=0;O<_;O++){const P=p[O],{filter:{event:I,schema:F,table:M,filter:A}}=P,q=c&&c[O];if(q&&q.event===I&&q.schema===F&&q.table===M&&q.filter===A)S.push(Object.assign(Object.assign({},P),{id:q.id}));else{this.unsubscribe(),e==null||e(ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(ze.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Ur(this,Ce.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ur(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ce;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(_=>{var S,O,P;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((P=(O=_.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(_=>_.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var S,O,P,I,F,M;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const A=_.id,q=(S=_.filter)===null||S===void 0?void 0:S.event;return A&&((O=s.ids)===null||O===void 0?void 0:O.includes(A))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const A=(F=(I=_==null?void 0:_.filter)===null||I===void 0?void 0:I.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return A==="*"||A===((M=s==null?void 0:s.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const S=p.data,{schema:O,table:P,commit_timestamp:I,type:F,errors:M}=S;p=Object.assign(Object.assign({},{schema:O,table:P,commit_timestamp:I,eventType:F,new:{},old:{},errors:M}),this._getPayloadRecords(S))}_.callback(p,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Mn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ce.close,{},e)}_onError(e){this._on(Ce.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Li(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Li(e.columns,e.old_record)),s}}const mh=()=>{},yh=typeof WebSocket<"u",vh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wh{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ah,this.params={},this.timeout=ma,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mh,this.conn=null,this.sendBuffer=[],this.serializer=new uh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ht(async()=>{const{default:l}=await Promise.resolve().then(()=>Kt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${an.websocket}`,this.httpEndpoint=wa(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ya(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new bh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ht(async()=>{const{default:e}=await import("./browser-C0L_M8wz.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lh}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mt.connecting:return kt.Connecting;case Mt.open:return kt.Open;case Mt.closing:return kt.Closing;default:return kt.Closed}}isConnected(){return this.connectionState()===kt.Open}channel(e,s={config:{}}){const r=new Mn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ce.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ch,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ce.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([vh],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class bh{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Mt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Fn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class kh extends Fn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cn extends Fn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var xh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ba=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ht(async()=>{const{default:r}=await Promise.resolve().then(()=>Kt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Sh=()=>xh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ht(()=>Promise.resolve().then(()=>Kt),void 0)).Response:Response}),un=t=>{if(Array.isArray(t))return t.map(s=>un(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=un(r)}),e};var Ot=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eh=(t,e,s)=>Ot(void 0,void 0,void 0,function*(){const r=yield Sh();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new kh(Br(n),t.status||500))}).catch(n=>{e(new cn(Br(n),n))}):e(new cn(Br(t),t))}),Th=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ss(t,e,s,r,n,i){return Ot(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Th(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Eh(l,a,r))})})}function er(t,e,s,r){return Ot(this,void 0,void 0,function*(){return Ss(t,"GET",e,s,r)})}function it(t,e,s,r,n){return Ot(this,void 0,void 0,function*(){return Ss(t,"POST",e,r,n,s)})}function Oh(t,e,s,r,n){return Ot(this,void 0,void 0,function*(){return Ss(t,"PUT",e,r,n,s)})}function Ah(t,e,s,r){return Ot(this,void 0,void 0,function*(){return Ss(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ka(t,e,s,r,n){return Ot(this,void 0,void 0,function*(){return Ss(t,"DELETE",e,r,n,s)})}var pe=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ch={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ni={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rh{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ba(n)}uploadOrUpdate(e,s,r,n){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ni),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(e,s,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ni.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield it(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Fn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}update(e,s,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return pe(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}copy(e,s,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield it(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return pe(this,void 0,void 0,function*(){try{const n=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}download(e,s){return pe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield er(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}info(e){return pe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield er(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:un(r),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Ah(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ne(r)&&r instanceof cn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}list(e,s,r){return pe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ch),s),{prefix:e||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Ph="2.7.1",$h={"X-Client-Info":`storage-js/${Ph}`};var Ct=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class jh{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},$h),s),this.fetch=ba(r)}listBuckets(){return Ct(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ct(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ct(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}}class Ih extends jh{constructor(e,s={},r){super(e,s,r)}from(e){return new Rh(this.url,this.headers,e,this.fetch)}}const Lh="2.49.4";let rs="";typeof Deno<"u"?rs="deno":typeof document<"u"?rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rs="react-native":rs="node";const Dh={"X-Client-Info":`supabase-js-${rs}/${Lh}`},Uh={headers:Dh},Bh={schema:"public"},Nh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mh={};var Fh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const qh=t=>{let e;return t?e=t:typeof fetch>"u"?e=oa:e=fetch,(...s)=>e(...s)},Hh=()=>typeof Headers>"u"?aa:Headers,Vh=(t,e,s)=>{const r=qh(s),n=Hh();return(i,o)=>Fh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Kh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Wh(t){return t.replace(/\/$/,"")}function Jh(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Kh(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const xa="2.69.1",It=30*1e3,hn=3,Nr=hn*It,zh="http://localhost:9999",Gh="supabase.auth.token",Yh={"X-Client-Info":`gotrue-js/${xa}`},fn="X-Supabase-Api-Version",Sa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xh=6e5;class qn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zh extends qn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function ef(t){return D(t)&&t.name==="AuthApiError"}class Ea extends qn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class dt extends qn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class tt extends dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tf(t){return D(t)&&t.name==="AuthSessionMissingError"}class Mr extends dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class js extends dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Is extends dt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sf(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mi extends dt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dn extends dt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Fr(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Fi extends dt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class fs extends dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hi=` 	
\r=`.split(""),rf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hi.length;e+=1)t[Hi[e].charCodeAt(0)]=-2;for(let e=0;e<qi.length;e+=1)t[qi[e].charCodeAt(0)]=e;return t})();function Ta(t,e,s){const r=rf[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Vi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{af(o,r,s)};for(let o=0;o<t.length;o+=1)Ta(t.charCodeAt(o),n,i);return e.join("")}function nf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function of(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}nf(r,e)}}function af(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function lf(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ta(t.charCodeAt(n),s,r);return new Uint8Array(e)}function cf(t){const e=[];return of(t,s=>e.push(s)),new Uint8Array(e)}function uf(t){return Math.round(Date.now()/1e3)+t}function hf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ne=()=>typeof window<"u"&&typeof document<"u",vt={tested:!1,writable:!1},ds=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vt.tested)return vt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vt.tested=!0,vt.writable=!0}catch{vt.tested=!0,vt.writable=!1}return vt.writable};function ff(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Oa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ht(async()=>{const{default:r}=await Promise.resolve().then(()=>Kt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},df=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Aa=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ls=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ds=async(t,e)=>{await t.removeItem(e)};class vr{constructor(){this.promise=new vr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}vr.promiseConstructor=Promise;function qr(t){const e=t.split(".");if(e.length!==3)throw new fs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Qh.test(e[r]))throw new fs("JWT not in base64url format");return{header:JSON.parse(Vi(e[0])),payload:JSON.parse(Vi(e[1])),signature:lf(e[2]),raw:{header:e[0],payload:e[1]}}}async function pf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gf(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function _f(t){return("0"+t.toString(16)).substr(-2)}function mf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,_f).join("")}async function yf(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function vf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await yf(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rt(t,e,s=!1){const r=mf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Aa(t,`${e}-code-verifier`,n);const i=await vf(r);return[i,r===i?"plain":"s256"]}const wf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bf(t){const e=t.headers.get(fn);if(!e||!e.match(wf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Sf=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const bt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ef=[502,503,504];async function Ki(t){var e;if(!df(t))throw new dn(bt(t),0);if(Ef.includes(t.status))throw new dn(bt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Ea(bt(i),i)}let r;const n=bf(t);if(n&&n.getTime()>=Sa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Fi(bt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Fi(bt(s),t.status,s.weak_password.reasons);throw new Zh(bt(s),t.status||500,r)}const Tf=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function U(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[fn]||(i[fn]=Sa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Of(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Of(t,e,s,r,n,i){const o=Tf(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new dn(bt(l),0)}if(a.ok||await Ki(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ki(l)}}function st(t){var e;let s=null;Pf(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=uf(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Wi(t){const e=st(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function at(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Af(t){return{data:t,error:null}}function Cf(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Sf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Rf(t){return t}function Pf(t){return t.access_token&&t.refresh_token&&t.expires_in}var $f=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class jf{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Oa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:at})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=$f(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Cf,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(D(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:at})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Rf});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(S=>{const O=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(S.split(";")[1].split("=")[1]);u[`${P}Page`]=O}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:at})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:at})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:at})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}}const If={getItem:t=>ds()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ds()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ds()&&globalThis.localStorage.removeItem(t)}};function Ji(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Lf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pt={debug:!!(globalThis&&ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ca extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Df extends Ca{}async function Uf(t,e,s){Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Df(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Lf();const Bf={url:zh,storageKey:Gh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zi(t,e,s){return await s()}class vs{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vs.nextInstanceID,vs.nextInstanceID+=1,this.instanceID>0&&Ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Bf),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new jf({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Oa(n.fetch),this.lock=n.lock||zi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ne()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Uf:this.lock=zi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ds()?this.storage=If:(this.memoryStorage={},this.storage=Ji(this.memoryStorage)):(this.memoryStorage={},this.storage=Ji(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=ff(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ne()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return D(s)?{error:s}:{error:new Ea("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:st}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:f,options:p}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Rt(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:S},xform:st})}else if("phone"in e){const{phone:c,password:f,options:p}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:st})}else throw new js("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wi})}else throw new js("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Mr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ls(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:st});if(await Ds(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:st}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Rt(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new js("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:st});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Rt(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Af})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new tt;const{error:n}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await U(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new js("You must provide either an email or phone number and a type")}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Nr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:at}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:at})})}catch(s){if(D(s))return tf(s)&&(await this._removeSession(),await Ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Rt(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:at});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=qr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(D(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new tt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ne())throw new Is("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Is(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Mi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mi("No code detected.");const{data:F,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Is("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const _=p-c;_*1e3<=It&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${f}s`);const S=p-f;c-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,p,c):c-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,p,c);const{data:O,error:P}=await this._getUser(i);if(P)throw P;const I={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ef(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=hf(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Rt(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:p}=i;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",_,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ne()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await gf(async n=>(n>0&&await pf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:st})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Fr(i)&&Date.now()+o-r<It})}catch(r){if(this._debug(s,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ne()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ls(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Nr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Nr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Fr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new vr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),D(i)){const o={session:null,error:i};return Fr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Aa(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ds(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),It);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/It);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${It}ms, refresh threshold is ${hn} ticks`),n<=hn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ca)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Rt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=qr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Xh>Date.now()))return r;const{data:n,error:i}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new fs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new fs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};r=_.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=qr(r);if(kf(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:n,signature:o},error:null}}const u=xf(n.alg),c=await this.fetchJwk(n.kid,s),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,cf(`${a}.${l}`)))throw new fs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}vs.nextInstanceID=0;const Nf=vs;class Mf extends Nf{constructor(e){super(e)}}var Ff=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qf{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Wh(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Bh,realtime:Mh,auth:Object.assign(Object.assign({},Nh),{storageKey:l}),global:Uh},c=Jh(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Vh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new ih(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Iu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ih(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ff(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mf({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hf=(t,e,s)=>new qf(t,e,s),Vf="https://oeikxnecjeqdzqvqspxs.supabase.co",Kf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9laWt4bmVjamVxZHpxdnFzcHhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MDYyNDksImV4cCI6MjA1OTE4MjI0OX0.J4-PGG_oYZJjwi6iN0nCQeBG3aUZfwuGs7CqTwjQEek",ws=Hf(Vf,Kf),Wf=async t=>{try{const{data:e,error:s}=await ws.from("chat_users").upsert({username:t,last_seen:new Date().toISOString()},{onConflict:"username",ignoreDuplicates:!1}).select().single();if(s){const r=`${t}_${Math.random().toString(36).substring(2,5)}`,{data:n,error:i}=await ws.from("chat_users").insert([{username:r,last_seen:new Date().toISOString()}]).select().single();if(i)throw i;return n}return e}catch(e){throw console.error("Error in getOrCreateUser:",e),e}},Ke=Object.create(null);Ke.open="0";Ke.close="1";Ke.ping="2";Ke.pong="3";Ke.message="4";Ke.upgrade="5";Ke.noop="6";const Hs=Object.create(null);Object.keys(Ke).forEach(t=>{Hs[Ke[t]]=t});const pn={type:"error",data:"parser error"},Ra=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Pa=typeof ArrayBuffer=="function",$a=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Hn=({type:t,data:e},s,r)=>Ra&&e instanceof Blob?s?r(e):Gi(e,r):Pa&&(e instanceof ArrayBuffer||$a(e))?s?r(e):Gi(new Blob([e]),r):r(Ke[t]+(e||"")),Gi=(t,e)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];e("b"+(r||""))},s.readAsDataURL(t)};function Yi(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Hr;function Jf(t,e){if(Ra&&t.data instanceof Blob)return t.data.arrayBuffer().then(Yi).then(e);if(Pa&&(t.data instanceof ArrayBuffer||$a(t.data)))return e(Yi(t.data));Hn(t,!1,s=>{Hr||(Hr=new TextEncoder),e(Hr.encode(s))})}const Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ns=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Qi.length;t++)ns[Qi.charCodeAt(t)]=t;const zf=t=>{let e=t.length*.75,s=t.length,r,n=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),c=new Uint8Array(u);for(r=0;r<s;r+=4)i=ns[t.charCodeAt(r)],o=ns[t.charCodeAt(r+1)],a=ns[t.charCodeAt(r+2)],l=ns[t.charCodeAt(r+3)],c[n++]=i<<2|o>>4,c[n++]=(o&15)<<4|a>>2,c[n++]=(a&3)<<6|l&63;return u},Gf=typeof ArrayBuffer=="function",Vn=(t,e)=>{if(typeof t!="string")return{type:"message",data:ja(t,e)};const s=t.charAt(0);return s==="b"?{type:"message",data:Yf(t.substring(1),e)}:Hs[s]?t.length>1?{type:Hs[s],data:t.substring(1)}:{type:Hs[s]}:pn},Yf=(t,e)=>{if(Gf){const s=zf(t);return ja(s,e)}else return{base64:!0,data:t}},ja=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ia="",Qf=(t,e)=>{const s=t.length,r=new Array(s);let n=0;t.forEach((i,o)=>{Hn(i,!1,a=>{r[o]=a,++n===s&&e(r.join(Ia))})})},Xf=(t,e)=>{const s=t.split(Ia),r=[];for(let n=0;n<s.length;n++){const i=Vn(s[n],e);if(r.push(i),i.type==="error")break}return r};function Zf(){return new TransformStream({transform(t,e){Jf(t,s=>{const r=s.length;let n;if(r<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,r);else if(r<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(n[0]|=128),e.enqueue(n),e.enqueue(s)})}})}let Vr;function Us(t){return t.reduce((e,s)=>e+s.length,0)}function Bs(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let r=0;for(let n=0;n<e;n++)s[n]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),s}function ed(t,e){Vr||(Vr=new TextDecoder);const s=[];let r=0,n=-1,i=!1;return new TransformStream({transform(o,a){for(s.push(o);;){if(r===0){if(Us(s)<1)break;const l=Bs(s,1);i=(l[0]&128)===128,n=l[0]&127,n<126?r=3:n===126?r=1:r=2}else if(r===1){if(Us(s)<2)break;const l=Bs(s,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Us(s)<8)break;const l=Bs(s,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(pn);break}n=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Us(s)<n)break;const l=Bs(s,n);a.enqueue(Vn(i?l:Vr.decode(l),e)),r=0}if(n===0||n>t){a.enqueue(pn);break}}}})}const La=4;function se(t){if(t)return td(t)}function td(t){for(var e in se.prototype)t[e]=se.prototype[e];return t}se.prototype.on=se.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};se.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this};se.prototype.off=se.prototype.removeListener=se.prototype.removeAllListeners=se.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,n=0;n<s.length;n++)if(r=s[n],r===e||r.fn===e){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+t],this};se.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,n=s.length;r<n;++r)s[r].apply(this,e)}return this};se.prototype.emitReserved=se.prototype.emit;se.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};se.prototype.hasListeners=function(t){return!!this.listeners(t).length};const wr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0),Ee=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),sd="arraybuffer";function Da(t,...e){return e.reduce((s,r)=>(t.hasOwnProperty(r)&&(s[r]=t[r]),s),{})}const rd=Ee.setTimeout,nd=Ee.clearTimeout;function br(t,e){e.useNativeTimers?(t.setTimeoutFn=rd.bind(Ee),t.clearTimeoutFn=nd.bind(Ee)):(t.setTimeoutFn=Ee.setTimeout.bind(Ee),t.clearTimeoutFn=Ee.clearTimeout.bind(Ee))}const id=1.33;function od(t){return typeof t=="string"?ad(t):Math.ceil((t.byteLength||t.size)*id)}function ad(t){let e=0,s=0;for(let r=0,n=t.length;r<n;r++)e=t.charCodeAt(r),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(r++,s+=4);return s}function Ua(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ld(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function cd(t){let e={},s=t.split("&");for(let r=0,n=s.length;r<n;r++){let i=s[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class ud extends Error{constructor(e,s,r){super(e),this.description=s,this.context=r,this.type="TransportError"}}class Kn extends se{constructor(e){super(),this.writable=!1,br(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,s,r){return super.emitReserved("error",new ud(e,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=Vn(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,s={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const s=ld(e);return s.length?"?"+s:""}}class hd extends Kn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Xf(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Qf(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Ua()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(e,s)}}let Ba=!1;try{Ba=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const fd=Ba;function dd(){}class pd extends hd{constructor(e){if(super(e),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,s){const r=this.request({method:"POST",data:e});r.on("success",s),r.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=e}}class He extends se{constructor(e,s,r){super(),this.createRequest=e,br(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const s=Da(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var n;r.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=He.requestsCount++,He.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=dd,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete He.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}He.requestsCount=0;He.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Xi);else if(typeof addEventListener=="function"){const t="onpagehide"in Ee?"pagehide":"unload";addEventListener(t,Xi,!1)}}function Xi(){for(let t in He.requests)He.requests.hasOwnProperty(t)&&He.requests[t].abort()}const gd=function(){const t=Na({xdomain:!1});return t&&t.responseType!==null}();class _d extends pd{constructor(e){super(e);const s=e&&e.forceBase64;this.supportsBinary=gd&&!s}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new He(Na,this.uri(),e)}}function Na(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||fd))return new XMLHttpRequest}catch{}if(!e)try{return new Ee[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ma=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class md extends Kn{get name(){return"websocket"}doOpen(){const e=this.uri(),s=this.opts.protocols,r=Ma?{}:Da(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,s,r)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const r=e[s],n=s===e.length-1;Hn(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}n&&wr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Ua()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}}const Kr=Ee.WebSocket||Ee.MozWebSocket;class yd extends md{createSocket(e,s,r){return Ma?new Kr(e,s,r):s?new Kr(e,s):new Kr(e)}doWrite(e,s){this.ws.send(s)}}class vd extends Kn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const s=ed(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(s).getReader(),n=Zf();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const r=e[s],n=s===e.length-1;this._writer.write(r).then(()=>{n&&wr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const wd={websocket:yd,webtransport:vd,polling:_d},bd=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kd=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gn(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),r=t.indexOf("]");s!=-1&&r!=-1&&(t=t.substring(0,s)+t.substring(s,r).replace(/:/g,";")+t.substring(r,t.length));let n=bd.exec(t||""),i={},o=14;for(;o--;)i[kd[o]]=n[o]||"";return s!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=xd(i,i.path),i.queryKey=Sd(i,i.query),i}function xd(t,e){const s=/\/{2,9}/g,r=e.replace(s,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Sd(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,n,i){n&&(s[n]=i)}),s}const _n=typeof addEventListener=="function"&&typeof removeEventListener=="function",Vs=[];_n&&addEventListener("offline",()=>{Vs.forEach(t=>t())},!1);class ct extends se{constructor(e,s){if(super(),this.binaryType=sd,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(s=e,e=null),e){const r=gn(e);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=gn(s.host).host);br(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const n=r.prototype.name;this.transports.push(n),this._transportsByName[n]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=cd(this.opts.query)),_n&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Vs.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=La,s.transport=e,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ct.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(e);s.open(),this.setTransport(s)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",ct.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=e.data,this._onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(s+=od(n)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,s,r){return this._sendPacket("message",e,s,r),this}send(e,s,r){return this._sendPacket("message",e,s,r),this}_sendPacket(e,s,r,n){if(typeof s=="function"&&(n=s,s=void 0),typeof r=="function"&&(n=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:s,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(ct.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_n&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Vs.indexOf(this._offlineEventListener);r!==-1&&Vs.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this._prevBufferLen=0}}}ct.protocol=La;class Ed extends ct{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let s=this.createTransport(e),r=!1;ct.priorWebsocketSuccess=!1;const n=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ct.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=s.name,this.emitReserved("upgradeError",p)}}))};function i(){r||(r=!0,c(),s.close(),s=null)}const o=f=>{const p=new Error("probe error: "+f);p.transport=s.name,i(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(f){s&&f.name!==s.name&&i()}const c=()=>{s.removeListener("open",n),s.removeListener("error",o),s.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};s.once("open",n),s.once("error",o),s.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const s=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&s.push(e[r]);return s}}let Td=class extends Ed{constructor(e,s={}){const r=typeof e=="object"?e:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(n=>wd[n]).filter(n=>!!n)),super(e,r)}};function Od(t,e="",s){let r=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),r=gn(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(s&&s.port===r.port?"":":"+r.port),r}const Ad=typeof ArrayBuffer=="function",Cd=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Fa=Object.prototype.toString,Rd=typeof Blob=="function"||typeof Blob<"u"&&Fa.call(Blob)==="[object BlobConstructor]",Pd=typeof File=="function"||typeof File<"u"&&Fa.call(File)==="[object FileConstructor]";function Wn(t){return Ad&&(t instanceof ArrayBuffer||Cd(t))||Rd&&t instanceof Blob||Pd&&t instanceof File}function Ks(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,r=t.length;s<r;s++)if(Ks(t[s]))return!0;return!1}if(Wn(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ks(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Ks(t[s]))return!0;return!1}function $d(t){const e=[],s=t.data,r=t;return r.data=mn(s,e),r.attachments=e.length,{packet:r,buffers:e}}function mn(t,e){if(!t)return t;if(Wn(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let r=0;r<t.length;r++)s[r]=mn(t[r],e);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=mn(t[r],e));return s}return t}function jd(t,e){return t.data=yn(t.data,e),delete t.attachments,t}function yn(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=yn(t[s],e);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=yn(t[s],e));return t}const Id=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ld=5;var B;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(B||(B={}));class Dd{constructor(e){this.replacer=e}encode(e){return(e.type===B.EVENT||e.type===B.ACK)&&Ks(e)?this.encodeAsBinary({type:e.type===B.EVENT?B.BINARY_EVENT:B.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===B.BINARY_EVENT||e.type===B.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=$d(e),r=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(r),n}}function Zi(t){return Object.prototype.toString.call(t)==="[object Object]"}class Jn extends se{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e);const r=s.type===B.BINARY_EVENT;r||s.type===B.BINARY_ACK?(s.type=r?B.EVENT:B.ACK,this.reconstructor=new Ud(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Wn(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const r={type:Number(e.charAt(0))};if(B[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===B.BINARY_EVENT||r.type===B.BINARY_ACK){const i=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const o=e.substring(i,s);if(o!=Number(o)||e.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););r.nsp=e.substring(i,s)}else r.nsp="/";const n=e.charAt(s+1);if(n!==""&&Number(n)==n){const i=s+1;for(;++s;){const o=e.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===e.length)break}r.id=Number(e.substring(i,s+1))}if(e.charAt(++s)){const i=this.tryParse(e.substr(s));if(Jn.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,s){switch(e){case B.CONNECT:return Zi(s);case B.DISCONNECT:return s===void 0;case B.CONNECT_ERROR:return typeof s=="string"||Zi(s);case B.EVENT:case B.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Id.indexOf(s[0])===-1);case B.ACK:case B.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ud{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=jd(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Bd=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jn,Encoder:Dd,get PacketType(){return B},protocol:Ld},Symbol.toStringTag,{value:"Module"}));function Re(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Nd=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qa extends se{constructor(e,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Re(e,"open",this.onopen.bind(this)),Re(e,"packet",this.onpacket.bind(this)),Re(e,"error",this.onerror.bind(this)),Re(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...s){var r,n,i;if(Nd.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:B.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const c=this.ids++,f=s.pop();this._registerAckCallback(c,f),o.id=c}const a=(n=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||n===void 0?void 0:n.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,s){var r;const n=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(n===void 0){this.acks[e]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);s.call(this,new Error("operation has timed out"))},n),o=(...a)=>{this.io.clearTimeoutFn(i),s.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...s){return new Promise((r,n)=>{const i=(o,a)=>o?n(o):r(a);i.withError=!0,s.push(i),this.emit(e,...s)})}_addToQueue(e){let s;typeof e[e.length-1]=="function"&&(s=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...i)=>r!==this._queue[0]?void 0:(n!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!e||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:B.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case B.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case B.EVENT:case B.BINARY_EVENT:this.onevent(e);break;case B.ACK:case B.BINARY_ACK:this.onack(e);break;case B.DISCONNECT:this.ondisconnect();break;case B.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const s=this;let r=!1;return function(...n){r||(r=!0,s.packet({type:B.ACK,id:e,data:n}))}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(delete this.acks[e.id],s.withError&&e.data.unshift(null),s.apply(this,e.data))}onconnect(e,s){this.id=e,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:B.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(e===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(e===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,e.data)}}}function Jt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Jt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+s:t-s}return Math.min(t,this.max)|0};Jt.prototype.reset=function(){this.attempts=0};Jt.prototype.setMin=function(t){this.ms=t};Jt.prototype.setMax=function(t){this.max=t};Jt.prototype.setJitter=function(t){this.jitter=t};class vn extends se{constructor(e,s){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,br(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Jt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const n=s.parser||Bd;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Td(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Re(s,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Re(s,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),s.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Re(e,"ping",this.onping.bind(this)),Re(e,"data",this.ondata.bind(this)),Re(e,"error",this.onerror.bind(this)),Re(e,"close",this.onclose.bind(this)),Re(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(s){this.onclose("parse error",s)}}ondecoded(e){wr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,s){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new qa(this,e,s),this.nsps[e]=r),r}_destroy(e){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let r=0;r<s.length;r++)this.engine.write(s[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ts={};function Ws(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const s=Od(t,e.path||"/socket.io"),r=s.source,n=s.id,i=s.path,o=ts[n]&&i in ts[n].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new vn(r,e):(ts[n]||(ts[n]=new vn(r,e)),l=ts[n]),s.query&&!e.query&&(e.query=s.queryKey),l.socket(s.path,e)}Object.assign(Ws,{Manager:vn,Socket:qa,io:Ws,connect:Ws});const Md="http://localhost:3000",_e=Ws(Md,{autoConnect:!1,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),Fd=t=>{_e.connected||(_e.connect(),_e.emit("join",t))},qd=()=>{_e.connected&&_e.disconnect()};_e.on("connect",()=>{console.log("Connected to server")});_e.on("disconnect",()=>{console.log("Disconnected from server")});_e.on("error",t=>{console.error("Socket error:",t)});const Hd={class:"h-screen w-72 bg-gray-50 border-l flex flex-col"},Vd={class:"p-4 bg-white border-b flex justify-between items-center shadow-sm"},Kd={class:"text-sm text-gray-500"},Wd={class:"flex-1 overflow-y-auto p-4 space-y-2"},Jd={key:0,class:"space-y-2"},zd={class:"flex items-center space-x-3"},Gd={class:"relative"},Yd={class:"font-medium text-gray-900"},Qd=["onClick"],Xd={key:1,class:"mt-6"},Zd={class:"space-y-2"},ep={class:"flex items-center space-x-3"},tp={class:"relative"},sp={class:"font-medium text-gray-600"},rp={class:"text-xs text-gray-400"},np=["onClick"],ip={__name:"RightSidebar",emits:["close"],setup(t,{emit:e}){const s=Pe([]),r=na(()=>{const a=new Date(Date.now()-3e5);return s.value.filter(l=>new Date(l.last_seen)>a)}),n=async()=>{const{data:a,error:l}=await ws.from("chat_users").select("*").order("last_seen",{ascending:!1});if(l){console.error("Error loading users:",l);return}s.value=a},i=async a=>{const{error:l}=await ws.from("chat_users").delete().eq("id",a);if(l){console.error("Error removing user:",l);return}s.value=s.value.filter(u=>u.id!==a)},o=a=>{const l=Math.floor((new Date-new Date(a))/1e3);return l<60?"just now":l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:`${Math.floor(l/86400)}d ago`};return Ln(async()=>{await n(),_e.on("user_joined",a=>{const l=s.value.findIndex(u=>u.id===a.id);l!==-1?s.value[l]=a:s.value.push(a)}),_e.on("user_left",({userId:a})=>{const l=s.value.find(u=>u.id===a);l&&(l.last_seen=new Date().toISOString())})}),cr(()=>{_e.off("user_joined"),_e.off("user_left")}),(a,l)=>(K(),J("div",Hd,[T("div",Vd,[T("div",null,[l[1]||(l[1]=T("h3",{class:"font-semibold text-gray-800"},"Online Users",-1)),T("p",Kd,Qe(r.value.length)+" active now",1)]),T("button",{onClick:l[0]||(l[0]=u=>a.$emit("close")),class:"p-2 rounded-lg hover:bg-gray-100 transition-colors"},[re(ot(Dr),{class:"h-5 w-5 text-gray-500"})])]),T("div",Wd,[r.value.length>0?(K(),J("div",Jd,[(K(!0),J(ke,null,Qs(r.value,u=>(K(),J("div",{key:u.id,class:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow"},[T("div",zd,[T("div",Gd,[re(ot(nn),{class:"h-10 w-10 text-gray-700"}),l[2]||(l[2]=T("div",{class:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"},null,-1))]),T("div",null,[T("span",Yd,Qe(u.username),1),l[3]||(l[3]=T("p",{class:"text-xs text-green-600"},"Online",-1))])]),T("button",{onClick:c=>i(u.id),class:"p-1.5 rounded-full hover:bg-red-50 group transition-colors"},[re(ot(Dr),{class:"h-5 w-5 text-gray-400 group-hover:text-red-500"})],8,Qd)]))),128))])):pi("",!0),s.value.length>r.value.length?(K(),J("div",Xd,[l[5]||(l[5]=T("h4",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3"},"Offline",-1)),T("div",Zd,[(K(!0),J(ke,null,Qs(s.value.filter(u=>!r.value.includes(u)),u=>(K(),J("div",{key:u.id,class:"flex items-center justify-between p-3 bg-white/50 rounded-lg"},[T("div",ep,[T("div",tp,[re(ot(nn),{class:"h-10 w-10 text-gray-400"}),l[4]||(l[4]=T("div",{class:"absolute bottom-0 right-0 h-3 w-3 bg-gray-300 rounded-full border-2 border-white"},null,-1))]),T("div",null,[T("span",sp,Qe(u.username),1),T("p",rp,"Last seen "+Qe(o(u.last_seen)),1)])]),T("button",{onClick:c=>i(u.id),class:"p-1.5 rounded-full hover:bg-red-50 group transition-colors"},[re(ot(Dr),{class:"h-5 w-5 text-gray-300 group-hover:text-red-500"})],8,np)]))),128))])])):pi("",!0)])]))}},op={class:"flex flex-col h-full bg-gray-50"},ap={key:0,class:"flex items-center justify-center h-full"},lp={class:"bg-white p-8 rounded-lg shadow-lg w-96"},cp={key:1,class:"flex flex-col h-full"},up={class:"bg-white p-3 rounded-lg shadow-sm max-w-[80%]"},hp={class:"text-sm font-semibold text-gray-700"},fp={class:"text-gray-800"},dp={class:"text-xs text-gray-500 mt-1"},pp={class:"border-t bg-white p-4"},gp={__name:"Chat",setup(t){const e=Pe([]),s=Pe(""),r=Pe(null),n=Pe(null),i=Pe(""),o=Pe(!0),a=()=>{r.value&&(r.value.scrollTop=r.value.scrollHeight)},l=async()=>{const{data:f,error:p}=await ws.from("messages").select("*, chat_users(username)").order("created_at",{ascending:!0});if(p){console.error("Error loading messages:",p);return}e.value=f,a()},u=async()=>{!s.value.trim()||!n.value||(_e.emit("chat_message",s.value),s.value="")},c=async()=>{if(i.value.trim())try{n.value=await Wf(i.value),Fd(n.value.username),o.value=!1,await l()}catch(f){console.error("Error joining chat:",f)}};return Ln(()=>{_e.on("new_message",f=>{e.value.push(f),a()})}),cr(()=>{qd()}),(f,p)=>(K(),J("div",op,[o.value?(K(),J("div",ap,[T("div",lp,[p[4]||(p[4]=T("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"Join Chat",-1)),T("form",{onSubmit:Pi(c,["prevent"]),class:"space-y-4"},[T("div",null,[p[2]||(p[2]=T("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-1"}," Choose a username ",-1)),ri(T("input",{id:"username","onUpdate:modelValue":p[0]||(p[0]=_=>i.value=_),type:"text",required:"",placeholder:"Enter your username",class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ri,i.value]])]),p[3]||(p[3]=T("button",{type:"submit",class:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Join Chat ",-1))],32)])])):(K(),J("div",cp,[T("div",{ref_key:"messageContainer",ref:r,class:"flex-1 overflow-y-auto p-4 space-y-4"},[(K(!0),J(ke,null,Qs(e.value,_=>{var S;return K(),J("div",{key:_.id,class:"flex items-start space-x-2"},[T("div",up,[T("p",hp,Qe(((S=_.chat_users)==null?void 0:S.username)||"Unknown User"),1),T("p",fp,Qe(_.content),1),T("p",dp,Qe(new Date(_.created_at).toLocaleTimeString()),1)])])}),128))],512),T("div",pp,[T("form",{onSubmit:Pi(u,["prevent"]),class:"flex space-x-2"},[ri(T("input",{"onUpdate:modelValue":p[1]||(p[1]=_=>s.value=_),type:"text",placeholder:"Type your message...",class:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Ri,s.value]]),p[5]||(p[5]=T("button",{type:"submit",class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Send ",-1))],32)])]))]))}},_p={class:"flex h-screen bg-gray-50"},mp={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},yp={key:0,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},vp={key:1,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"},wp={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},bp={key:0,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},kp={key:1,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 6l6 6-6 6"},xp={class:"flex-1 relative"},Sp={__name:"App",setup(t){const e=Pe(!1),s=Pe(!0),r=()=>{e.value=!e.value},n=()=>{s.value=!s.value};return(i,o)=>(K(),J("div",_p,[T("button",{onClick:r,class:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-gray-900 text-white shadow-lg hover:bg-gray-800 transition-colors"},[(K(),J("svg",mp,[e.value?(K(),J("path",yp)):(K(),J("path",vp))]))]),T("button",{onClick:n,class:"lg:hidden fixed top-4 right-4 z-50 p-2 rounded-lg bg-gray-900 text-white shadow-lg hover:bg-gray-800 transition-colors"},[(K(),J("svg",wp,[s.value?(K(),J("path",bp)):(K(),J("path",kp))]))]),T("div",{class:Ft(["fixed inset-y-0 left-0 lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out z-40",e.value?"translate-x-0":"-translate-x-full"])},[re(Tu,{onCloseSidebar:o[0]||(o[0]=a=>e.value=!1)})],2),T("div",xp,[re(gp)]),T("div",{class:Ft(["fixed inset-y-0 right-0 lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out z-40",s.value?"translate-x-0":"translate-x-full"])},[re(ip,{onClose:o[1]||(o[1]=a=>s.value=!1)})],2)]))}};fu(Sp).mount("#app");export{Tp as g};
